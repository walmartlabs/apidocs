<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>com.walmartlabs.lacinia documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">com.walmartlabs/lacinia</span> <span class="project-version">1.2-alpha-3</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>com</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>walmartlabs</span></div></div></li><li class="depth-3 current"><a href="com.walmartlabs.lacinia.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lacinia</span></div></a></li><li class="depth-4 branch"><a href="com.walmartlabs.lacinia.executor.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>executor</span></div></a></li><li class="depth-4 branch"><a href="com.walmartlabs.lacinia.expound.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>expound</span></div></a></li><li class="depth-4 branch"><a href="com.walmartlabs.lacinia.federation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>federation</span></div></a></li><li class="depth-4"><a href="com.walmartlabs.lacinia.parser.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>parser</span></div></a></li><li class="depth-5 branch"><a href="com.walmartlabs.lacinia.parser.docs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>docs</span></div></a></li><li class="depth-5"><a href="com.walmartlabs.lacinia.parser.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-4 branch"><a href="com.walmartlabs.lacinia.resolve.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>resolve</span></div></a></li><li class="depth-4 branch"><a href="com.walmartlabs.lacinia.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-4 branch"><a href="com.walmartlabs.lacinia.selection.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>selection</span></div></a></li><li class="depth-4 branch"><a href="com.walmartlabs.lacinia.tracing.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tracing</span></div></a></li><li class="depth-4"><a href="com.walmartlabs.lacinia.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="com.walmartlabs.lacinia.html#var-execute"><div class="inner"><span>execute</span></div></a></li><li class="depth-1"><a href="com.walmartlabs.lacinia.html#var-execute-parsed-query"><div class="inner"><span>execute-parsed-query</span></div></a></li><li class="depth-1"><a href="com.walmartlabs.lacinia.html#var-execute-parsed-query-async"><div class="inner"><span>execute-parsed-query-async</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">com.walmartlabs.lacinia</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-execute"><h3>execute</h3><div class="usage"><code>(execute schema query variables context)</code><code>(execute schema query variables context options)</code></div><div class="doc"><div class="markdown"><p>Given a compiled schema and a query string, attempts to execute it.</p>
<p>Returns a result map with up-to two keys:  :data is the main result of the execution, and :errors are any errors generated during execution.</p>
<p>In the case where there’s a parse or validation problem for the query, just the :errors key will be present.</p>
<dl>
<dt>schema</dt>
<dd>GraphQL schema (as compiled by <a href="com.walmartlabs.lacinia.schema.html#var-compile">com.walmartlabs.lacinia.schema/compile</a>).</dd>
<dt>query</dt>
<dd>Input query string to be parsed and executed.</dd>
<dt>variables</dt>
<dd>compile-time variables that can be referenced inside the query using the <code>$variable-name</code> production.</dd>
<dt>context (optional)</dt>
<dd>Additional data that will ultimately be passed to resolver functions.</dd>
<dt>options (optional)</dt>
<dd>Additional options to control execution.</dd>
</dl>
<p>Options:</p>
<dl>
<dt>:operation-name</dt>
<dd>Identifies which operation to execute, when the query specifies more than one.</dd>
<dt>:timeout-ms</dt>
<dd>Timeout for the operation.  Defaults to 0, for no timeout at all.</dd>
<dt>:timeout-error</dt>
<dd>Error map used if a timeout occurs.</dd>
<dd>Default is <code>{:message "Query execution timed out."}</code>.</dd>
</dl>
<p>This function parses the query and invokes <a href="com.walmartlabs.lacinia.html#var-execute-parsed-query">execute-parsed-query</a>.</p>
<p>When a GraphQL query contains variables, the values for those variables arrive seperately; for example, a JSON request may have the query in the “query” property, and the variables in the “variables” property.</p>
<p>The values for those variables are provided in the variables parameter. The keys are keyword-ized names of the variable (without the leading ‘$’); if a variable is named <code>$user_id</code> in the query, the corresponding key should be <code>:user_id</code>.</p>
<p>The values in the variables map should be of a type matching the variable’s declaration in the query; typically a string or other scalar value, or a map for a variable of type InputObject.</p>
</div></div><div class="src-link"><a href="https://github.com/walmartlabs/lacinia/blob/master/src/com/walmartlabs/lacinia.clj#L93">view source</a></div></div><div class="public anchor" id="var-execute-parsed-query"><h3>execute-parsed-query</h3><div class="usage"><code>(execute-parsed-query parsed-query variables context)</code><code>(execute-parsed-query parsed-query variables context options)</code></div><div class="doc"><div class="markdown"><p>Prepares a query, by applying query variables to it, resulting in a prepared query which is then executed.</p>
<p>Returns a result map (with :data and/or :errors keys), or an exception if execution failed.</p>
<p>Options as per <a href="com.walmartlabs.lacinia.html#var-execute">execute</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/walmartlabs/lacinia/blob/master/src/com/walmartlabs/lacinia.clj#L64">view source</a></div></div><div class="public anchor" id="var-execute-parsed-query-async"><h3>execute-parsed-query-async</h3><h4 class="added">added in 0.16.0</h4><div class="usage"><code>(execute-parsed-query-async parsed-query variables context)</code></div><div class="doc"><div class="markdown"><p>Prepares a query, by applying query variables to it, resulting in a prepared query which is then executed.</p>
<p>Returns a <a href="com.walmartlabs.lacinia.resolve.html#var-ResolverResult">ResolverResult</a> that will deliver the result map, or an exception.</p>
</div></div><div class="src-link"><a href="https://github.com/walmartlabs/lacinia/blob/master/src/com/walmartlabs/lacinia.clj#L30">view source</a></div></div></div></body></html>